<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spell Master V1 - Practice & Chat</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
<style>
/* --- General Reset & Professional Layout --- */
body {
font-family: 'Roboto', sans-serif;
margin: 0;
padding: 0;
background-color: #f0f2f5;
color: #333;
line-height: 1.6;
}

.container-app {
width: 95%;
max-width: 1400px; /* Wider container to accommodate chat */
margin: 0 auto;
}

.card {
background: #fff;
padding: 25px;
border-radius: 8px;
box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
}

/* --- Header and Navigation --- */
.main-header {
background-color: #ffffff;
border-bottom: 3px solid #007bff;
padding: 15px 0;
box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.header-content {
display: flex;
justify-content: space-between;
align-items: center;
}

.logo-text {
font-size: 1.8em;
color: #007bff;
font-weight: 900;
}

.main-nav {
display: flex;
gap: 30px;
}

.nav-item {
text-decoration: none;
color: #555;
font-weight: 500;
padding: 5px 0;
position: relative;
transition: color 0.2s;
}

.nav-item.active {
color: #007bff;
}

.nav-item.active::after {
content: '';
position: absolute;
bottom: -15px;
left: 0;
width: 100%;
height: 3px;
background-color: #007bff;
}

.user-profile span {
margin-right: 10px;
font-weight: 700;
}

.btn-primary, .btn-secondary {
padding: 10px 20px;
border: none;
border-radius: 6px;
cursor: pointer;
font-size: 1em;
font-weight: 700;
transition: background-color 0.2s;
}

.btn-primary {
background-color: #007bff;
color: white;
}

.btn-secondary {
background-color: #6c757d;
color: white;
}

/* --- Main Layout Grid --- */
.app-layout {
display: grid;
grid-template-columns: 2.5fr 1fr; /* Practice area is wider than chat */
gap: 30px;
padding: 40px 0;
}

/* --- Content Sections (Left Column) --- */
.content-section {
display: none;
padding-top: 20px;
}

.content-section.active {
display: block;
}

.stats-bar {
display: flex;
justify-content: space-between;
margin-bottom: 25px;
background-color: #e9f2ff;
padding: 15px 25px;
font-weight: 500;
}

.practice-area {
text-align: center;
padding: 50px 30px;
}

.word-context-display {
font-size: 1.8em;
min-height: 40px;
margin-bottom: 30px;
}

.word-context-display u {
color: #dc3545;
font-weight: 700;
}

.main-input {
width: 80%;
padding: 15px;
font-size: 1.3em;
border: 2px solid #007bff;
border-radius: 6px;
text-align: center;
margin-bottom: 20px;
}

.action-buttons {
display: flex;
gap: 15px;
justify-content: center;
}

/* --- World Chat UI (Right Column) --- */
.chat-container {
height: calc(100vh - 150px); /* Fill remaining viewport height */
display: flex;
flex-direction: column;
padding: 0;
box-sizing: border-box;
}

.chat-header {
background-color: #007bff;
color: white;
padding: 15px;
border-top-left-radius: 8px;
border-top-right-radius: 8px;
font-size: 1.2em;
font-weight: 700;
}

#chat-messages {
flex-grow: 1;
padding: 15px;
overflow-y: auto;
background-color: #f8f9fa; /* Light background for message area */
border-left: 1px solid #eee;
border-right: 1px solid #eee;
}

.message {
margin-bottom: 10px;
}

.message strong {
color: #007bff;
margin-right: 5px;
}

.message.self strong {
color: #28a745; /* Green for own messages */
}

.chat-input-area {
display: flex;
padding: 10px;
border-top: 1px solid #eee;
background-color: white;
border-bottom-left-radius: 8px;
border-bottom-right-radius: 8px;
}

#chat-input {
flex-grow: 1;
padding: 10px;
border: 1px solid #ccc;
border-radius: 4px;
margin-right: 10px;
}

#send-btn {
background-color: #28a745;
color: white;
padding: 10px 15px;
}

/* --- Hide Login/Setup content in this file --- */
/* Assuming this is practice.html, we don't need the login UI */
</style>
</head>
<body>
<header class="main-header">
<div class="header-content container-app">
<div class="logo-text">Spell Master</div>
<nav class="main-nav">
<a href="#" class="nav-item active" data-section="practice">Practice</a>
<a href="#" class="nav-item" data-section="sprint">Sprint</a>
<a href="#" class="nav-item" data-section="ielts">IELTS Writing</a>
</nav>
<div class="user-profile">
<span id="user-display-name">Guest User</span>
<button id="logout-btn" class="btn-secondary">Logout</button>
</div>
</div>
</header>

<main class="app-main container-app">
<div class="app-layout">
<div class="practice-column">

<section id="practice-section" class="content-section active">
<h2>üìö Core Spelling Practice</h2>
<div class="stats-bar card">
<span>Mode: Practice</span>
<span>Difficulty: Medium</span>
<span>Words Mastered: <span id="mastered-count">42</span></span>
</div>

<div class="practice-area card">
<p class="word-context-display">
The $\text{\underline{prinsipal}}$ reason for the delay was traffic.
</p>
<input type="text" id="practice-input" placeholder="Type the correct word here..." class="main-input">
<div class="action-buttons">
<button class="btn-primary">Submit (Enter)</button>
<button class="btn-secondary">Skip</button>
</div>
</div>
</section>

<section id="sprint-section" class="content-section">
<h2>‚è±Ô∏è Spelling Sprint Challenge</h2>
<div class="stats-bar card">
<span>Time: <span id="sprint-timer">60s</span></span>
<span>Correct: <span id="sprint-correct">0</span></span>
<span>High Score: <span id="sprint-high-score">25</span></span>
</div>
<div class="card" style="padding: 50px;">
<p>Challenge your speed and accuracy in a timed session!</p>
<button class="btn-primary" style="margin-top: 15px;">Start Sprint</button>
</div>
</section>

<section id="ielts-section" class="content-section">
<h2>üìù IELTS Writing Vocabulary</h2>
<div class="card" style="padding: 50px;">
<h3>Task: Academic Vocabulary Drill</h3>
<p>Focus on high-frequency, high-value words for IELTS Task 2 essays.</p>
<button class="btn-primary" style="margin-top: 15px;">Start IELTS Drill</button>
</div>
</section>
</div>

<div class="chat-column">
<div class="chat-container card">
<div class="chat-header">
üåç World Chat (Spelling Talk)
</div>
<div id="chat-messages">
<div class="message"><strong>GuestUser321:</strong> This is a great exercise!</div>
<div class="message self"><strong>Me:</strong> Thanks! I just scored 15 in the sprint.</div>
<div class="message"><strong>ProSpeller:</strong> Don't forget the difference between 'principal' and 'principle'!</div>
</div>
<div class="chat-input-area">
<input type="text" id="chat-input" placeholder="Type your message here..." required>
<button id="send-btn">Send</button>
</div>
</div>
</div>
</div>
</main>

<script>
// --- UI and Chat Logic ---
document.addEventListener('DOMContentLoaded', () => {
const navItems = document.querySelectorAll('.nav-item');
const sections = document.querySelectorAll('.content-section');
const chatInput = document.getElementById('chat-input');
const sendBtn = document.getElementById('send-btn');
const chatMessages = document.getElementById('chat-messages');
const userName = document.getElementById('user-display-name').textContent; // Get the user's name

// 1. Navigation Logic
navItems.forEach(item => {
item.addEventListener('click', (e) => {
e.preventDefault();
document.querySelector('.nav-item.active').classList.remove('active');
item.classList.add('active');

const targetId = item.getAttribute('data-section') + '-section';
sections.forEach(section => {
section.classList.remove('active');
if (section.id === targetId) {
section.classList.add('active');
}
});
});
});

// 2. Chat Logic (Simulated)
function sendMessage() {
const messageText = chatInput.value.trim();
if (messageText === "") return;

// Create a new message element
const newMessage = document.createElement('div');
newMessage.classList.add('message', 'self'); // 'self' class for styling
newMessage.innerHTML = `<strong>${userName}:</strong> ${messageText}`;

chatMessages.appendChild(newMessage);
chatInput.value = '';

// Scroll to the bottom of the chat window
chatMessages.scrollTop = chatMessages.scrollHeight;

// NOTE: In a real application, you would send this message
// to a server via WebSocket (e.g., using Node.js, Firebase, or Pusher).
}

sendBtn.addEventListener('click', sendMessage);
chatInput.addEventListener('keypress', (e) => {
if (e.key === 'Enter') {
sendMessage();
}
});

// 3. Simple User Setup (For the combined file)
// If you launch this single file, you can set a default name.
document.getElementById('user-display-name').textContent =
localStorage.getItem('userName') || 'Guest Player';

document.getElementById('logout-btn').addEventListener('click', () => {
alert('Logging out is simulated. You would be redirected to the login page now.');
localStorage.removeItem('userName');
window.location.reload();
});

// Initial scroll to bottom of chat
chatMessages.scrollTop = chatMessages.scrollHeight;
});
</script>
</body>
</html>
